ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f1xx_hal_flash.c"
  14              		.text
  15              		.section	.text.FLASH_Program_HalfWord,"ax",%progbits
  16              		.align	1
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  21              	FLASH_Program_HalfWord:
  22              		@ args = 0, pretend = 0, frame = 0
  23              		@ frame_needed = 0, uses_anonymous_args = 0
  24              		@ link register save eliminated.
  25 0000 044B     		ldr	r3, .L2
  26 0002 0022     		movs	r2, #0
  27 0004 DA61     		str	r2, [r3, #28]
  28 0006 044A     		ldr	r2, .L2+4
  29 0008 1369     		ldr	r3, [r2, #16]
  30 000a 43F00103 		orr	r3, r3, #1
  31 000e 1361     		str	r3, [r2, #16]
  32 0010 0180     		strh	r1, [r0]	@ movhi
  33 0012 7047     		bx	lr
  34              	.L3:
  35              		.align	2
  36              	.L2:
  37 0014 00000000 		.word	pFlash
  38 0018 00200240 		.word	1073881088
  40              		.section	.text.FLASH_SetErrorCode,"ax",%progbits
  41              		.align	1
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  46              	FLASH_SetErrorCode:
  47              		@ args = 0, pretend = 0, frame = 0
  48              		@ frame_needed = 0, uses_anonymous_args = 0
  49              		@ link register save eliminated.
  50 0000 194B     		ldr	r3, .L11
  51 0002 DB68     		ldr	r3, [r3, #12]
  52 0004 13F01003 		ands	r3, r3, #16
  53 0008 05D0     		beq	.L5
  54 000a 184A     		ldr	r2, .L11+4
  55 000c D369     		ldr	r3, [r2, #28]
  56 000e 43F00203 		orr	r3, r3, #2
  57 0012 D361     		str	r3, [r2, #28]
  58 0014 1023     		movs	r3, #16
  59              	.L5:
  60 0016 144A     		ldr	r2, .L11
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 2


  61 0018 D268     		ldr	r2, [r2, #12]
  62 001a 12F0040F 		tst	r2, #4
  63 001e 06D0     		beq	.L6
  64 0020 1249     		ldr	r1, .L11+4
  65 0022 CA69     		ldr	r2, [r1, #28]
  66 0024 42F00102 		orr	r2, r2, #1
  67 0028 CA61     		str	r2, [r1, #28]
  68 002a 43F00403 		orr	r3, r3, #4
  69              	.L6:
  70 002e 0E4A     		ldr	r2, .L11
  71 0030 D269     		ldr	r2, [r2, #28]
  72 0032 12F0010F 		tst	r2, #1
  73 0036 09D0     		beq	.L7
  74 0038 0C49     		ldr	r1, .L11+4
  75 003a CA69     		ldr	r2, [r1, #28]
  76 003c 42F00402 		orr	r2, r2, #4
  77 0040 CA61     		str	r2, [r1, #28]
  78 0042 0949     		ldr	r1, .L11
  79 0044 CA69     		ldr	r2, [r1, #28]
  80 0046 22F00102 		bic	r2, r2, #1
  81 004a CA61     		str	r2, [r1, #28]
  82              	.L7:
  83 004c 40F20112 		movw	r2, #257
  84 0050 9342     		cmp	r3, r2
  85 0052 02D0     		beq	.L10
  86 0054 044A     		ldr	r2, .L11
  87 0056 D360     		str	r3, [r2, #12]
  88 0058 7047     		bx	lr
  89              	.L10:
  90 005a 034A     		ldr	r2, .L11
  91 005c D369     		ldr	r3, [r2, #28]
  92 005e 23F00103 		bic	r3, r3, #1
  93 0062 D361     		str	r3, [r2, #28]
  94 0064 7047     		bx	lr
  95              	.L12:
  96 0066 00BF     		.align	2
  97              	.L11:
  98 0068 00200240 		.word	1073881088
  99 006c 00000000 		.word	pFlash
 101              		.section	.text.HAL_FLASH_Program_IT,"ax",%progbits
 102              		.align	1
 103              		.global	HAL_FLASH_Program_IT
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 108              	HAL_FLASH_Program_IT:
 109              		@ args = 0, pretend = 0, frame = 0
 110              		@ frame_needed = 0, uses_anonymous_args = 0
 111 0000 38B5     		push	{r3, r4, r5, lr}
 112 0002 1D46     		mov	r5, r3
 113 0004 174B     		ldr	r3, .L22
 114 0006 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 115 0008 012B     		cmp	r3, #1
 116 000a 28D0     		beq	.L18
 117 000c 8446     		mov	ip, r0
 118 000e 0846     		mov	r0, r1
 119 0010 1446     		mov	r4, r2
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 3


 120 0012 144B     		ldr	r3, .L22
 121 0014 0122     		movs	r2, #1
 122 0016 1A76     		strb	r2, [r3, #24]
 123 0018 1349     		ldr	r1, .L22+4
 124 001a 0A69     		ldr	r2, [r1, #16]
 125 001c 42F4A052 		orr	r2, r2, #5120
 126 0020 0A61     		str	r2, [r1, #16]
 127 0022 9860     		str	r0, [r3, #8]
 128 0024 C3E90445 		strd	r4, [r3, #16]
 129 0028 BCF1010F 		cmp	ip, #1
 130 002c 0CD0     		beq	.L20
 131 002e BCF1020F 		cmp	ip, #2
 132 0032 0ED0     		beq	.L21
 133 0034 0B4B     		ldr	r3, .L22
 134 0036 0522     		movs	r2, #5
 135 0038 1A70     		strb	r2, [r3]
 136 003a 0422     		movs	r2, #4
 137 003c 5A60     		str	r2, [r3, #4]
 138              	.L16:
 139 003e A1B2     		uxth	r1, r4
 140 0040 FFF7FEFF 		bl	FLASH_Program_HalfWord
 141 0044 0020     		movs	r0, #0
 142              	.L14:
 143 0046 38BD     		pop	{r3, r4, r5, pc}
 144              	.L20:
 145 0048 0322     		movs	r2, #3
 146 004a 1A70     		strb	r2, [r3]
 147 004c 0122     		movs	r2, #1
 148 004e 5A60     		str	r2, [r3, #4]
 149 0050 F5E7     		b	.L16
 150              	.L21:
 151 0052 044B     		ldr	r3, .L22
 152 0054 0422     		movs	r2, #4
 153 0056 1A70     		strb	r2, [r3]
 154 0058 0222     		movs	r2, #2
 155 005a 5A60     		str	r2, [r3, #4]
 156 005c EFE7     		b	.L16
 157              	.L18:
 158 005e 0220     		movs	r0, #2
 159 0060 F1E7     		b	.L14
 160              	.L23:
 161 0062 00BF     		.align	2
 162              	.L22:
 163 0064 00000000 		.word	pFlash
 164 0068 00200240 		.word	1073881088
 166              		.section	.text.HAL_FLASH_EndOfOperationCallback,"ax",%progbits
 167              		.align	1
 168              		.weak	HAL_FLASH_EndOfOperationCallback
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 173              	HAL_FLASH_EndOfOperationCallback:
 174              		@ args = 0, pretend = 0, frame = 0
 175              		@ frame_needed = 0, uses_anonymous_args = 0
 176              		@ link register save eliminated.
 177 0000 7047     		bx	lr
 179              		.section	.text.HAL_FLASH_OperationErrorCallback,"ax",%progbits
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 4


 180              		.align	1
 181              		.weak	HAL_FLASH_OperationErrorCallback
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 186              	HAL_FLASH_OperationErrorCallback:
 187              		@ args = 0, pretend = 0, frame = 0
 188              		@ frame_needed = 0, uses_anonymous_args = 0
 189              		@ link register save eliminated.
 190 0000 7047     		bx	lr
 192              		.section	.text.HAL_FLASH_IRQHandler,"ax",%progbits
 193              		.align	1
 194              		.global	HAL_FLASH_IRQHandler
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 199              	HAL_FLASH_IRQHandler:
 200              		@ args = 0, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 203 0002 524B     		ldr	r3, .L44
 204 0004 DB68     		ldr	r3, [r3, #12]
 205 0006 13F0100F 		tst	r3, #16
 206 000a 04D1     		bne	.L27
 207 000c 4F4B     		ldr	r3, .L44
 208 000e DB68     		ldr	r3, [r3, #12]
 209 0010 13F0040F 		tst	r3, #4
 210 0014 0BD0     		beq	.L28
 211              	.L27:
 212 0016 4E4C     		ldr	r4, .L44+4
 213 0018 A568     		ldr	r5, [r4, #8]
 214 001a 4FF0FF33 		mov	r3, #-1
 215 001e A360     		str	r3, [r4, #8]
 216 0020 FFF7FEFF 		bl	FLASH_SetErrorCode
 217 0024 2846     		mov	r0, r5
 218 0026 FFF7FEFF 		bl	HAL_FLASH_OperationErrorCallback
 219 002a 0023     		movs	r3, #0
 220 002c 2370     		strb	r3, [r4]
 221              	.L28:
 222 002e 474B     		ldr	r3, .L44
 223 0030 DB68     		ldr	r3, [r3, #12]
 224 0032 13F0200F 		tst	r3, #32
 225 0036 2BD0     		beq	.L29
 226 0038 444B     		ldr	r3, .L44
 227 003a 2022     		movs	r2, #32
 228 003c DA60     		str	r2, [r3, #12]
 229 003e 444B     		ldr	r3, .L44+4
 230 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 231 0042 2BB3     		cbz	r3, .L29
 232 0044 424B     		ldr	r3, .L44+4
 233 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 234 0048 DBB2     		uxtb	r3, r3
 235 004a 012B     		cmp	r3, #1
 236 004c 30D0     		beq	.L39
 237 004e 404B     		ldr	r3, .L44+4
 238 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 239 0052 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 5


 240 0054 022B     		cmp	r3, #2
 241 0056 4AD0     		beq	.L40
 242 0058 3D4B     		ldr	r3, .L44+4
 243 005a 5A68     		ldr	r2, [r3, #4]
 244 005c 013A     		subs	r2, r2, #1
 245 005e 5A60     		str	r2, [r3, #4]
 246 0060 5B68     		ldr	r3, [r3, #4]
 247 0062 002B     		cmp	r3, #0
 248 0064 4FD1     		bne	.L41
 249 0066 3A4B     		ldr	r3, .L44+4
 250 0068 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 251 006a DBB2     		uxtb	r3, r3
 252 006c 032B     		cmp	r3, #3
 253 006e 62D0     		beq	.L42
 254 0070 374B     		ldr	r3, .L44+4
 255 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 256 0074 DBB2     		uxtb	r3, r3
 257 0076 042B     		cmp	r3, #4
 258 0078 62D0     		beq	.L43
 259 007a 354B     		ldr	r3, .L44+4
 260 007c 9868     		ldr	r0, [r3, #8]
 261 007e 0638     		subs	r0, r0, #6
 262 0080 FFF7FEFF 		bl	HAL_FLASH_EndOfOperationCallback
 263              	.L35:
 264 0084 324B     		ldr	r3, .L44+4
 265 0086 4FF0FF32 		mov	r2, #-1
 266 008a 9A60     		str	r2, [r3, #8]
 267 008c 0022     		movs	r2, #0
 268 008e 1A70     		strb	r2, [r3]
 269              	.L29:
 270 0090 2F4B     		ldr	r3, .L44+4
 271 0092 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 272 0094 5BB9     		cbnz	r3, .L26
 273 0096 2D4B     		ldr	r3, .L44
 274 0098 1A69     		ldr	r2, [r3, #16]
 275 009a 22F00702 		bic	r2, r2, #7
 276 009e 1A61     		str	r2, [r3, #16]
 277 00a0 1A69     		ldr	r2, [r3, #16]
 278 00a2 22F4A052 		bic	r2, r2, #5120
 279 00a6 1A61     		str	r2, [r3, #16]
 280 00a8 294B     		ldr	r3, .L44+4
 281 00aa 0022     		movs	r2, #0
 282 00ac 1A76     		strb	r2, [r3, #24]
 283              	.L26:
 284 00ae F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 285              	.L39:
 286 00b0 274B     		ldr	r3, .L44+4
 287 00b2 5A68     		ldr	r2, [r3, #4]
 288 00b4 013A     		subs	r2, r2, #1
 289 00b6 5A60     		str	r2, [r3, #4]
 290 00b8 5B68     		ldr	r3, [r3, #4]
 291 00ba 7BB1     		cbz	r3, .L31
 292 00bc 244C     		ldr	r4, .L44+4
 293 00be A068     		ldr	r0, [r4, #8]
 294 00c0 FFF7FEFF 		bl	HAL_FLASH_EndOfOperationCallback
 295 00c4 A068     		ldr	r0, [r4, #8]
 296 00c6 00F58060 		add	r0, r0, #1024
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 6


 297 00ca A060     		str	r0, [r4, #8]
 298 00cc 1F4A     		ldr	r2, .L44
 299 00ce 1369     		ldr	r3, [r2, #16]
 300 00d0 23F00203 		bic	r3, r3, #2
 301 00d4 1361     		str	r3, [r2, #16]
 302 00d6 FFF7FEFF 		bl	FLASH_PageErase
 303 00da D9E7     		b	.L29
 304              	.L31:
 305 00dc 1C4B     		ldr	r3, .L44+4
 306 00de 4FF0FF30 		mov	r0, #-1
 307 00e2 9860     		str	r0, [r3, #8]
 308 00e4 0022     		movs	r2, #0
 309 00e6 1A70     		strb	r2, [r3]
 310 00e8 FFF7FEFF 		bl	HAL_FLASH_EndOfOperationCallback
 311 00ec D0E7     		b	.L29
 312              	.L40:
 313 00ee 174A     		ldr	r2, .L44
 314 00f0 1369     		ldr	r3, [r2, #16]
 315 00f2 23F00403 		bic	r3, r3, #4
 316 00f6 1361     		str	r3, [r2, #16]
 317 00f8 0020     		movs	r0, #0
 318 00fa FFF7FEFF 		bl	HAL_FLASH_EndOfOperationCallback
 319 00fe 144B     		ldr	r3, .L44+4
 320 0100 0022     		movs	r2, #0
 321 0102 1A70     		strb	r2, [r3]
 322 0104 C4E7     		b	.L29
 323              	.L41:
 324 0106 124B     		ldr	r3, .L44+4
 325 0108 9A68     		ldr	r2, [r3, #8]
 326 010a 0232     		adds	r2, r2, #2
 327 010c 9A60     		str	r2, [r3, #8]
 328 010e 9868     		ldr	r0, [r3, #8]
 329 0110 D3E90467 		ldrd	r6, [r3, #16]
 330 0114 340C     		lsrs	r4, r6, #16
 331 0116 44EA0744 		orr	r4, r4, r7, lsl #16
 332 011a 3D0C     		lsrs	r5, r7, #16
 333 011c C3E90445 		strd	r4, [r3, #16]
 334 0120 0A49     		ldr	r1, .L44
 335 0122 0A69     		ldr	r2, [r1, #16]
 336 0124 22F00102 		bic	r2, r2, #1
 337 0128 0A61     		str	r2, [r1, #16]
 338 012a D3E90423 		ldrd	r2, [r3, #16]
 339 012e 91B2     		uxth	r1, r2
 340 0130 FFF7FEFF 		bl	FLASH_Program_HalfWord
 341 0134 ACE7     		b	.L29
 342              	.L42:
 343 0136 064B     		ldr	r3, .L44+4
 344 0138 9868     		ldr	r0, [r3, #8]
 345 013a FFF7FEFF 		bl	HAL_FLASH_EndOfOperationCallback
 346 013e A1E7     		b	.L35
 347              	.L43:
 348 0140 034B     		ldr	r3, .L44+4
 349 0142 9868     		ldr	r0, [r3, #8]
 350 0144 0238     		subs	r0, r0, #2
 351 0146 FFF7FEFF 		bl	HAL_FLASH_EndOfOperationCallback
 352 014a 9BE7     		b	.L35
 353              	.L45:
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 7


 354              		.align	2
 355              	.L44:
 356 014c 00200240 		.word	1073881088
 357 0150 00000000 		.word	pFlash
 359              		.section	.text.HAL_FLASH_Unlock,"ax",%progbits
 360              		.align	1
 361              		.global	HAL_FLASH_Unlock
 362              		.syntax unified
 363              		.thumb
 364              		.thumb_func
 366              	HAL_FLASH_Unlock:
 367              		@ args = 0, pretend = 0, frame = 0
 368              		@ frame_needed = 0, uses_anonymous_args = 0
 369              		@ link register save eliminated.
 370 0000 0A4B     		ldr	r3, .L50
 371 0002 1B69     		ldr	r3, [r3, #16]
 372 0004 13F0800F 		tst	r3, #128
 373 0008 0BD0     		beq	.L48
 374 000a 084B     		ldr	r3, .L50
 375 000c 084A     		ldr	r2, .L50+4
 376 000e 5A60     		str	r2, [r3, #4]
 377 0010 02F18832 		add	r2, r2, #-2004318072
 378 0014 5A60     		str	r2, [r3, #4]
 379 0016 1B69     		ldr	r3, [r3, #16]
 380 0018 13F0800F 		tst	r3, #128
 381 001c 03D1     		bne	.L49
 382 001e 0020     		movs	r0, #0
 383 0020 7047     		bx	lr
 384              	.L48:
 385 0022 0020     		movs	r0, #0
 386 0024 7047     		bx	lr
 387              	.L49:
 388 0026 0120     		movs	r0, #1
 389 0028 7047     		bx	lr
 390              	.L51:
 391 002a 00BF     		.align	2
 392              	.L50:
 393 002c 00200240 		.word	1073881088
 394 0030 23016745 		.word	1164378403
 396              		.section	.text.HAL_FLASH_Lock,"ax",%progbits
 397              		.align	1
 398              		.global	HAL_FLASH_Lock
 399              		.syntax unified
 400              		.thumb
 401              		.thumb_func
 403              	HAL_FLASH_Lock:
 404              		@ args = 0, pretend = 0, frame = 0
 405              		@ frame_needed = 0, uses_anonymous_args = 0
 406              		@ link register save eliminated.
 407 0000 034A     		ldr	r2, .L53
 408 0002 1369     		ldr	r3, [r2, #16]
 409 0004 43F08003 		orr	r3, r3, #128
 410 0008 1361     		str	r3, [r2, #16]
 411 000a 0020     		movs	r0, #0
 412 000c 7047     		bx	lr
 413              	.L54:
 414 000e 00BF     		.align	2
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 8


 415              	.L53:
 416 0010 00200240 		.word	1073881088
 418              		.section	.text.HAL_FLASH_OB_Unlock,"ax",%progbits
 419              		.align	1
 420              		.global	HAL_FLASH_OB_Unlock
 421              		.syntax unified
 422              		.thumb
 423              		.thumb_func
 425              	HAL_FLASH_OB_Unlock:
 426              		@ args = 0, pretend = 0, frame = 0
 427              		@ frame_needed = 0, uses_anonymous_args = 0
 428              		@ link register save eliminated.
 429 0000 074B     		ldr	r3, .L58
 430 0002 1B69     		ldr	r3, [r3, #16]
 431 0004 13F4007F 		tst	r3, #512
 432 0008 07D1     		bne	.L57
 433 000a 054B     		ldr	r3, .L58
 434 000c 054A     		ldr	r2, .L58+4
 435 000e 9A60     		str	r2, [r3, #8]
 436 0010 02F18832 		add	r2, r2, #-2004318072
 437 0014 9A60     		str	r2, [r3, #8]
 438 0016 0020     		movs	r0, #0
 439 0018 7047     		bx	lr
 440              	.L57:
 441 001a 0120     		movs	r0, #1
 442 001c 7047     		bx	lr
 443              	.L59:
 444 001e 00BF     		.align	2
 445              	.L58:
 446 0020 00200240 		.word	1073881088
 447 0024 23016745 		.word	1164378403
 449              		.section	.text.HAL_FLASH_OB_Lock,"ax",%progbits
 450              		.align	1
 451              		.global	HAL_FLASH_OB_Lock
 452              		.syntax unified
 453              		.thumb
 454              		.thumb_func
 456              	HAL_FLASH_OB_Lock:
 457              		@ args = 0, pretend = 0, frame = 0
 458              		@ frame_needed = 0, uses_anonymous_args = 0
 459              		@ link register save eliminated.
 460 0000 034A     		ldr	r2, .L61
 461 0002 1369     		ldr	r3, [r2, #16]
 462 0004 23F40073 		bic	r3, r3, #512
 463 0008 1361     		str	r3, [r2, #16]
 464 000a 0020     		movs	r0, #0
 465 000c 7047     		bx	lr
 466              	.L62:
 467 000e 00BF     		.align	2
 468              	.L61:
 469 0010 00200240 		.word	1073881088
 471              		.section	.text.HAL_FLASH_OB_Launch,"ax",%progbits
 472              		.align	1
 473              		.global	HAL_FLASH_OB_Launch
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 9


 478              	HAL_FLASH_OB_Launch:
 479              		@ args = 0, pretend = 0, frame = 0
 480              		@ frame_needed = 0, uses_anonymous_args = 0
 481 0000 08B5     		push	{r3, lr}
 482 0002 FFF7FEFF 		bl	HAL_NVIC_SystemReset
 483 0006 08BD     		pop	{r3, pc}
 485              		.section	.text.HAL_FLASH_GetError,"ax",%progbits
 486              		.align	1
 487              		.global	HAL_FLASH_GetError
 488              		.syntax unified
 489              		.thumb
 490              		.thumb_func
 492              	HAL_FLASH_GetError:
 493              		@ args = 0, pretend = 0, frame = 0
 494              		@ frame_needed = 0, uses_anonymous_args = 0
 495              		@ link register save eliminated.
 496 0000 014B     		ldr	r3, .L66
 497 0002 D869     		ldr	r0, [r3, #28]
 498 0004 7047     		bx	lr
 499              	.L67:
 500 0006 00BF     		.align	2
 501              	.L66:
 502 0008 00000000 		.word	pFlash
 504              		.section	.text.FLASH_WaitForLastOperation,"ax",%progbits
 505              		.align	1
 506              		.global	FLASH_WaitForLastOperation
 507              		.syntax unified
 508              		.thumb
 509              		.thumb_func
 511              	FLASH_WaitForLastOperation:
 512              		@ args = 0, pretend = 0, frame = 0
 513              		@ frame_needed = 0, uses_anonymous_args = 0
 514 0000 38B5     		push	{r3, r4, r5, lr}
 515 0002 0446     		mov	r4, r0
 516 0004 FFF7FEFF 		bl	HAL_GetTick
 517 0008 0546     		mov	r5, r0
 518              	.L70:
 519 000a 164B     		ldr	r3, .L79
 520 000c DB68     		ldr	r3, [r3, #12]
 521 000e 13F0010F 		tst	r3, #1
 522 0012 0AD0     		beq	.L78
 523 0014 B4F1FF3F 		cmp	r4, #-1
 524 0018 F7D0     		beq	.L70
 525 001a 24B1     		cbz	r4, .L71
 526 001c FFF7FEFF 		bl	HAL_GetTick
 527 0020 401B     		subs	r0, r0, r5
 528 0022 A042     		cmp	r0, r4
 529 0024 F1D9     		bls	.L70
 530              	.L71:
 531 0026 0320     		movs	r0, #3
 532 0028 1BE0     		b	.L72
 533              	.L78:
 534 002a 0E4B     		ldr	r3, .L79
 535 002c DB68     		ldr	r3, [r3, #12]
 536 002e 13F0200F 		tst	r3, #32
 537 0032 02D0     		beq	.L74
 538 0034 0B4B     		ldr	r3, .L79
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 10


 539 0036 2022     		movs	r2, #32
 540 0038 DA60     		str	r2, [r3, #12]
 541              	.L74:
 542 003a 0A4B     		ldr	r3, .L79
 543 003c DB68     		ldr	r3, [r3, #12]
 544 003e 13F0100F 		tst	r3, #16
 545 0042 0BD1     		bne	.L75
 546 0044 074B     		ldr	r3, .L79
 547 0046 DB69     		ldr	r3, [r3, #28]
 548 0048 13F0010F 		tst	r3, #1
 549 004c 06D1     		bne	.L75
 550 004e 054B     		ldr	r3, .L79
 551 0050 DB68     		ldr	r3, [r3, #12]
 552 0052 13F0040F 		tst	r3, #4
 553 0056 01D1     		bne	.L75
 554 0058 0020     		movs	r0, #0
 555 005a 02E0     		b	.L72
 556              	.L75:
 557 005c FFF7FEFF 		bl	FLASH_SetErrorCode
 558 0060 0120     		movs	r0, #1
 559              	.L72:
 560 0062 38BD     		pop	{r3, r4, r5, pc}
 561              	.L80:
 562              		.align	2
 563              	.L79:
 564 0064 00200240 		.word	1073881088
 566              		.section	.text.HAL_FLASH_Program,"ax",%progbits
 567              		.align	1
 568              		.global	HAL_FLASH_Program
 569              		.syntax unified
 570              		.thumb
 571              		.thumb_func
 573              	HAL_FLASH_Program:
 574              		@ args = 0, pretend = 0, frame = 0
 575              		@ frame_needed = 0, uses_anonymous_args = 0
 576 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 577 0004 1E46     		mov	r6, r3
 578 0006 244B     		ldr	r3, .L93
 579 0008 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 580 000a 012B     		cmp	r3, #1
 581 000c 41D0     		beq	.L87
 582 000e 0446     		mov	r4, r0
 583 0010 0F46     		mov	r7, r1
 584 0012 9046     		mov	r8, r2
 585 0014 204B     		ldr	r3, .L93
 586 0016 0122     		movs	r2, #1
 587 0018 1A76     		strb	r2, [r3, #24]
 588 001a 4CF25030 		movw	r0, #50000
 589 001e FFF7FEFF 		bl	FLASH_WaitForLastOperation
 590 0022 0346     		mov	r3, r0
 591 0024 78BB     		cbnz	r0, .L83
 592 0026 012C     		cmp	r4, #1
 593 0028 08D0     		beq	.L88
 594 002a 022C     		cmp	r4, #2
 595 002c 03D0     		beq	.L91
 596 002e 4FF00409 		mov	r9, #4
 597              	.L84:
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 11


 598 0032 1C46     		mov	r4, r3
 599 0034 07E0     		b	.L85
 600              	.L91:
 601 0036 4FF00209 		mov	r9, #2
 602 003a FAE7     		b	.L84
 603              	.L88:
 604 003c 4FF00109 		mov	r9, #1
 605 0040 F7E7     		b	.L84
 606              	.L92:
 607 0042 0134     		adds	r4, r4, #1
 608 0044 E4B2     		uxtb	r4, r4
 609              	.L85:
 610 0046 4C45     		cmp	r4, r9
 611 0048 1DD2     		bcs	.L83
 612 004a 2101     		lsls	r1, r4, #4
 613 004c C1F12002 		rsb	r2, r1, #32
 614 0050 A1F12003 		sub	r3, r1, #32
 615 0054 28FA01F1 		lsr	r1, r8, r1
 616 0058 06FA02F2 		lsl	r2, r6, r2
 617 005c 1143     		orrs	r1, r1, r2
 618 005e 26FA03F3 		lsr	r3, r6, r3
 619 0062 1943     		orrs	r1, r1, r3
 620 0064 89B2     		uxth	r1, r1
 621 0066 07EB4400 		add	r0, r7, r4, lsl #1
 622 006a FFF7FEFF 		bl	FLASH_Program_HalfWord
 623 006e 4CF25030 		movw	r0, #50000
 624 0072 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 625 0076 094B     		ldr	r3, .L93+4
 626 0078 1D69     		ldr	r5, [r3, #16]
 627 007a 25F00105 		bic	r5, r5, #1
 628 007e 1D61     		str	r5, [r3, #16]
 629 0080 0346     		mov	r3, r0
 630 0082 0028     		cmp	r0, #0
 631 0084 DDD0     		beq	.L92
 632              	.L83:
 633 0086 044A     		ldr	r2, .L93
 634 0088 0021     		movs	r1, #0
 635 008a 1176     		strb	r1, [r2, #24]
 636              	.L82:
 637 008c 1846     		mov	r0, r3
 638 008e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 639              	.L87:
 640 0092 0223     		movs	r3, #2
 641 0094 FAE7     		b	.L82
 642              	.L94:
 643 0096 00BF     		.align	2
 644              	.L93:
 645 0098 00000000 		.word	pFlash
 646 009c 00200240 		.word	1073881088
 648              		.global	pFlash
 649              		.section	.bss.pFlash,"aw",%nobits
 650              		.align	3
 653              	pFlash:
 654 0000 00000000 		.space	32
 654      00000000 
 654      00000000 
 654      00000000 
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 12


 654      00000000 
 655              		.ident	"GCC: (xPack GNU Arm Embedded GCC x86_64) 13.2.1 20231009"
ARM GAS  C:\Users\matve\AppData\Local\Temp\ccYWek01.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f1xx_hal_flash.c
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:16     .text.FLASH_Program_HalfWord:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:21     .text.FLASH_Program_HalfWord:00000000 FLASH_Program_HalfWord
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:37     .text.FLASH_Program_HalfWord:00000014 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:653    .bss.pFlash:00000000 pFlash
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:41     .text.FLASH_SetErrorCode:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:46     .text.FLASH_SetErrorCode:00000000 FLASH_SetErrorCode
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:98     .text.FLASH_SetErrorCode:00000068 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:102    .text.HAL_FLASH_Program_IT:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:108    .text.HAL_FLASH_Program_IT:00000000 HAL_FLASH_Program_IT
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:163    .text.HAL_FLASH_Program_IT:00000064 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:167    .text.HAL_FLASH_EndOfOperationCallback:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:173    .text.HAL_FLASH_EndOfOperationCallback:00000000 HAL_FLASH_EndOfOperationCallback
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:180    .text.HAL_FLASH_OperationErrorCallback:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:186    .text.HAL_FLASH_OperationErrorCallback:00000000 HAL_FLASH_OperationErrorCallback
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:193    .text.HAL_FLASH_IRQHandler:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:199    .text.HAL_FLASH_IRQHandler:00000000 HAL_FLASH_IRQHandler
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:356    .text.HAL_FLASH_IRQHandler:0000014c $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:360    .text.HAL_FLASH_Unlock:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:366    .text.HAL_FLASH_Unlock:00000000 HAL_FLASH_Unlock
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:393    .text.HAL_FLASH_Unlock:0000002c $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:397    .text.HAL_FLASH_Lock:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:403    .text.HAL_FLASH_Lock:00000000 HAL_FLASH_Lock
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:416    .text.HAL_FLASH_Lock:00000010 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:419    .text.HAL_FLASH_OB_Unlock:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:425    .text.HAL_FLASH_OB_Unlock:00000000 HAL_FLASH_OB_Unlock
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:446    .text.HAL_FLASH_OB_Unlock:00000020 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:450    .text.HAL_FLASH_OB_Lock:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:456    .text.HAL_FLASH_OB_Lock:00000000 HAL_FLASH_OB_Lock
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:469    .text.HAL_FLASH_OB_Lock:00000010 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:472    .text.HAL_FLASH_OB_Launch:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:478    .text.HAL_FLASH_OB_Launch:00000000 HAL_FLASH_OB_Launch
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:486    .text.HAL_FLASH_GetError:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:492    .text.HAL_FLASH_GetError:00000000 HAL_FLASH_GetError
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:502    .text.HAL_FLASH_GetError:00000008 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:505    .text.FLASH_WaitForLastOperation:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:511    .text.FLASH_WaitForLastOperation:00000000 FLASH_WaitForLastOperation
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:564    .text.FLASH_WaitForLastOperation:00000064 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:567    .text.HAL_FLASH_Program:00000000 $t
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:573    .text.HAL_FLASH_Program:00000000 HAL_FLASH_Program
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:645    .text.HAL_FLASH_Program:00000098 $d
C:\Users\matve\AppData\Local\Temp\ccYWek01.s:650    .bss.pFlash:00000000 $d

UNDEFINED SYMBOLS
FLASH_PageErase
HAL_NVIC_SystemReset
HAL_GetTick
