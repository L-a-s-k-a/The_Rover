ARM GAS  C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.main,"ax",%progbits
  21              		.align	1
  22              		.global	main
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	main:
  28              	.LFB130:
   1:Core/Src/main.c **** #include "interrupt.h"
   2:Core/Src/main.c **** 
   3:Core/Src/main.c **** uint16_t ADC_Read_Inject(uint8_t channel);
   4:Core/Src/main.c **** uint16_t ADC_Read_Polling(uint8_t channel);
   5:Core/Src/main.c **** 
   6:Core/Src/main.c **** uint16_t adcBuf[3], adcInter;
   7:Core/Src/main.c **** uint16_t GlobalTickCount, MotorTickCount, potentiometr, adcTS;
   8:Core/Src/main.c **** uint8_t BtnNum;
   9:Core/Src/main.c **** float FLAG_Revolution, calculatePulseARR, Temperature, Vsense;
  10:Core/Src/main.c **** 
  11:Core/Src/main.c **** int main(void)
  12:Core/Src/main.c **** {
  29              		.loc 1 12 1 view -0
  30              		.cfi_startproc
  31              		@ Volatile: function does not return.
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
  13:Core/Src/main.c ****     RCC_Init();
  39              		.loc 1 13 5 view .LVU1
  40 0002 FFF7FEFF 		bl	RCC_Init
  41              	.LVL0:
  14:Core/Src/main.c ****     ITR_Init();
  42              		.loc 1 14 5 view .LVU2
  43 0006 FFF7FEFF 		bl	ITR_Init
  44              	.LVL1:
ARM GAS  C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s 			page 2


  15:Core/Src/main.c ****     GPIO_Init();
  45              		.loc 1 15 5 view .LVU3
  46 000a FFF7FEFF 		bl	GPIO_Init
  47              	.LVL2:
  16:Core/Src/main.c ****     SysTick_Init();
  48              		.loc 1 16 5 view .LVU4
  49 000e FFF7FEFF 		bl	SysTick_Init
  50              	.LVL3:
  17:Core/Src/main.c ****     TIM_PWM_Init();
  51              		.loc 1 17 5 view .LVU5
  52 0012 FFF7FEFF 		bl	TIM_PWM_Init
  53              	.LVL4:
  18:Core/Src/main.c ****     ADC_Init_Polling();
  54              		.loc 1 18 5 view .LVU6
  55 0016 FFF7FEFF 		bl	ADC_Init_Polling
  56              	.LVL5:
  57              	.L2:
  19:Core/Src/main.c ****     // TIM_ENCODER_Init();
  20:Core/Src/main.c ****     // Enc_Trig_Init();
  21:Core/Src/main.c **** 
  22:Core/Src/main.c ****     while (1)
  58              		.loc 1 22 5 view .LVU7
  23:Core/Src/main.c ****     {
  24:Core/Src/main.c ****         Vsense = (3.1 * adcBuf[2]) / 4095U;
  59              		.loc 1 24 9 view .LVU8
  60              		.loc 1 24 23 is_stmt 0 view .LVU9
  61 001a 214B     		ldr	r3, .L4+24
  62 001c 9888     		ldrh	r0, [r3, #4]
  63 001e FFF7FEFF 		bl	__aeabi_i2d
  64              	.LVL6:
  65 0022 19A3     		adr	r3, .L4
  66 0024 D3E90023 		ldrd	r2, [r3]
  67 0028 FFF7FEFF 		bl	__aeabi_dmul
  68              	.LVL7:
  69              		.loc 1 24 36 view .LVU10
  70 002c 18A3     		adr	r3, .L4+8
  71 002e D3E90023 		ldrd	r2, [r3]
  72 0032 FFF7FEFF 		bl	__aeabi_ddiv
  73              	.LVL8:
  74 0036 FFF7FEFF 		bl	__aeabi_d2f
  75              	.LVL9:
  76              		.loc 1 24 16 view .LVU11
  77 003a 1A4B     		ldr	r3, .L4+28
  78 003c 1860     		str	r0, [r3]	@ float
  25:Core/Src/main.c ****         TIM3->CCR2 = (8400 * adcInter) / 4095; 
  79              		.loc 1 25 9 is_stmt 1 view .LVU12
  80              		.loc 1 25 28 is_stmt 0 view .LVU13
  81 003e 1A4B     		ldr	r3, .L4+32
  82 0040 1A88     		ldrh	r2, [r3]
  83 0042 42F2D003 		movw	r3, #8400
  84 0046 03FB02F2 		mul	r2, r3, r2
  85              		.loc 1 25 40 view .LVU14
  86 004a 184B     		ldr	r3, .L4+36
  87 004c 83FB0213 		smull	r1, r3, r3, r2
  88 0050 1344     		add	r3, r3, r2
  89 0052 DB12     		asrs	r3, r3, #11
  90              		.loc 1 25 20 view .LVU15
ARM GAS  C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s 			page 3


  91 0054 164A     		ldr	r2, .L4+40
  92 0056 9363     		str	r3, [r2, #56]
  26:Core/Src/main.c ****         Temperature = ((0.76 - Vsense) / 2.5) + 25;
  93              		.loc 1 26 9 is_stmt 1 discriminator 1 view .LVU16
  94              		.loc 1 26 30 is_stmt 0 discriminator 1 view .LVU17
  95 0058 FFF7FEFF 		bl	__aeabi_f2d
  96              	.LVL10:
  97 005c 0246     		mov	r2, r0
  98 005e 0B46     		mov	r3, r1
  99 0060 0DA1     		adr	r1, .L4+16
 100 0062 D1E90001 		ldrd	r0, [r1]
 101 0066 FFF7FEFF 		bl	__aeabi_dsub
 102              	.LVL11:
 103              		.loc 1 26 40 discriminator 1 view .LVU18
 104 006a 0022     		movs	r2, #0
 105 006c 114B     		ldr	r3, .L4+44
 106 006e FFF7FEFF 		bl	__aeabi_ddiv
 107              	.LVL12:
 108              		.loc 1 26 47 discriminator 1 view .LVU19
 109 0072 0022     		movs	r2, #0
 110 0074 104B     		ldr	r3, .L4+48
 111 0076 FFF7FEFF 		bl	__aeabi_dadd
 112              	.LVL13:
 113 007a FFF7FEFF 		bl	__aeabi_d2f
 114              	.LVL14:
 115              		.loc 1 26 21 discriminator 1 view .LVU20
 116 007e 0F4B     		ldr	r3, .L4+52
 117 0080 1860     		str	r0, [r3]	@ float
  22:Core/Src/main.c ****     {
 118              		.loc 1 22 11 is_stmt 1 view .LVU21
 119 0082 CAE7     		b	.L2
 120              	.L5:
 121 0084 AFF30080 		.align	3
 122              	.L4:
 123 0088 CDCCCCCC 		.word	-858993459
 124 008c CCCC0840 		.word	1074318540
 125 0090 00000000 		.word	0
 126 0094 00FEAF40 		.word	1085275648
 127 0098 52B81E85 		.word	-2061584302
 128 009c EB51E83F 		.word	1072189931
 129 00a0 00000000 		.word	adcBuf
 130 00a4 00000000 		.word	Vsense
 131 00a8 00000000 		.word	adcInter
 132 00ac 81000880 		.word	-2146959231
 133 00b0 00040040 		.word	1073742848
 134 00b4 00000440 		.word	1074003968
 135 00b8 00003940 		.word	1077477376
 136 00bc 00000000 		.word	Temperature
 137              		.cfi_endproc
 138              	.LFE130:
 140              		.global	Vsense
 141              		.section	.bss.Vsense,"aw",%nobits
 142              		.align	2
 145              	Vsense:
 146 0000 00000000 		.space	4
 147              		.global	Temperature
 148              		.section	.bss.Temperature,"aw",%nobits
ARM GAS  C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s 			page 4


 149              		.align	2
 152              	Temperature:
 153 0000 00000000 		.space	4
 154              		.global	calculatePulseARR
 155              		.section	.bss.calculatePulseARR,"aw",%nobits
 156              		.align	2
 159              	calculatePulseARR:
 160 0000 00000000 		.space	4
 161              		.global	FLAG_Revolution
 162              		.section	.bss.FLAG_Revolution,"aw",%nobits
 163              		.align	2
 166              	FLAG_Revolution:
 167 0000 00000000 		.space	4
 168              		.global	BtnNum
 169              		.section	.bss.BtnNum,"aw",%nobits
 172              	BtnNum:
 173 0000 00       		.space	1
 174              		.global	adcTS
 175              		.section	.bss.adcTS,"aw",%nobits
 176              		.align	1
 179              	adcTS:
 180 0000 0000     		.space	2
 181              		.global	potentiometr
 182              		.section	.bss.potentiometr,"aw",%nobits
 183              		.align	1
 186              	potentiometr:
 187 0000 0000     		.space	2
 188              		.global	MotorTickCount
 189              		.section	.bss.MotorTickCount,"aw",%nobits
 190              		.align	1
 193              	MotorTickCount:
 194 0000 0000     		.space	2
 195              		.global	GlobalTickCount
 196              		.section	.bss.GlobalTickCount,"aw",%nobits
 197              		.align	1
 200              	GlobalTickCount:
 201 0000 0000     		.space	2
 202              		.global	adcInter
 203              		.section	.bss.adcInter,"aw",%nobits
 204              		.align	1
 207              	adcInter:
 208 0000 0000     		.space	2
 209              		.global	adcBuf
 210              		.section	.bss.adcBuf,"aw",%nobits
 211              		.align	2
 214              	adcBuf:
 215 0000 00000000 		.space	6
 215      0000
 216              		.text
 217              	.Letext0:
 218              		.file 2 "C:/Programm/Embed tools/xpack-arm-none-eabi-gcc-14.2.1-1.1/arm-none-eabi/include/machine/
 219              		.file 3 "C:/Programm/Embed tools/xpack-arm-none-eabi-gcc-14.2.1-1.1/arm-none-eabi/include/sys/_std
 220              		.file 4 "CMSIS/Devices/STM32F4xx/Inc/STM32F407xx/stm32f407xx.h"
 221              		.file 5 "Core/Inc/interrupt.h"
 222              		.file 6 "Core/Inc/init.h"
ARM GAS  C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:21     .text.main:00000000 $t
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:27     .text.main:00000000 main
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:123    .text.main:00000088 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:214    .bss.adcBuf:00000000 adcBuf
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:145    .bss.Vsense:00000000 Vsense
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:207    .bss.adcInter:00000000 adcInter
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:152    .bss.Temperature:00000000 Temperature
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:142    .bss.Vsense:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:149    .bss.Temperature:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:159    .bss.calculatePulseARR:00000000 calculatePulseARR
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:156    .bss.calculatePulseARR:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:166    .bss.FLAG_Revolution:00000000 FLAG_Revolution
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:163    .bss.FLAG_Revolution:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:172    .bss.BtnNum:00000000 BtnNum
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:173    .bss.BtnNum:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:179    .bss.adcTS:00000000 adcTS
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:176    .bss.adcTS:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:186    .bss.potentiometr:00000000 potentiometr
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:183    .bss.potentiometr:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:193    .bss.MotorTickCount:00000000 MotorTickCount
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:190    .bss.MotorTickCount:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:200    .bss.GlobalTickCount:00000000 GlobalTickCount
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:197    .bss.GlobalTickCount:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:204    .bss.adcInter:00000000 $d
C:\Users\Laska\AppData\Local\Temp\cc0NRHd2.s:211    .bss.adcBuf:00000000 $d

UNDEFINED SYMBOLS
RCC_Init
ITR_Init
GPIO_Init
SysTick_Init
TIM_PWM_Init
ADC_Init_Polling
__aeabi_i2d
__aeabi_dmul
__aeabi_ddiv
__aeabi_d2f
__aeabi_f2d
__aeabi_dsub
__aeabi_dadd
